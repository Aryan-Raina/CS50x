<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
        <link href="styles.css" rel="stylesheet">
        <title>OhMy! Essay</title>
    </head>
    <body>
        <h1 class="display-4" style="font-weight: 700;">OhMy!Essay.com</h1>
        <hr class="titlebottom">
        <div class="form-group">
            <label for="essaypara">Enter Your Essay</label>
            <textarea class="form-control" id="essaypara" rows="20" placeholder="Start writing Here..."></textarea>
            <input type="button" onclick="work();" value="Evaluate" class="btn btn-primary">
        </div>
        <hr class="titlebottom">
        <div class="alert alert-primary" id='characters'>No Of Character: </div>
        <div class="alert alert-primary" id='words'>No of Words: </div>
        <div class="alert alert-primary" id='sentences'>No of Sentences: </div>
        <div class="alert alert-primary" id='grader'>Level: </div>
        <hr class="titlebottom">
        <input type="button" onclick="location.href = 'index.html'" value="Go Back To Homepage!" class="btn btn-primary">
        <script>
            function work() {
                let text = document.getElementById('essaypara').value;
                
                let words = text.split(" ").length;
                let sentences = text.replace("?", ".").replace("!", ".").split(".").length - 1;
                let characters = text.length - sentences - words + 1;

                if (characters === 0)
                {
                    words = 0
                }
                
                document.getElementById("characters").innerHTML = "No Of Character: " + characters.toString(10);
                document.getElementById("words").innerHTML = "No of Words: " + words.toString(10);
                document.getElementById("sentences").innerHTML = "No of Sentences: " + sentences.toString(10);

                let index = 5.89 * (characters/words) - 0.3 * (sentences/words) - 15.8;
                let grade = "Grade 1";
                if (index > 16)
                {
                    grade = "Grade 16+";
                }
                else if (index < 1)
                {
                    grade = "Below Grade 1";
                }
                else
                {
                    grade = "Grade " + (Math.round(index)).toString(10);
                }

                document.getElementById("grader").innerHTML = "Level: " + grade;
            } 
        </script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>
    </body>
</html>